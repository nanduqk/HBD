/*
ï¿½2010 - 2016 SAP SE or an SAP affiliate company.  All rights reserved.
 
SAP and other SAP products and services mentioned herein as well as their respective logos are trademarks or registered trademarks of SAP SE in Germany and other countries.  Please see http://www.sap.com/corporate-en/legal/copyright/index.epx#trademark for additional trademark information and notices.
*/

jQuery.sap.declare({modName:"com.sap.fioribi.components.overviewpage.ApplicationPageSectionView",type:"view"});jQuery.sap.require({modName:"com.sap.fioribi.modules.common.BILPView",type:"view"});jQuery.sap.require("com.sap.fioribi.widgets.Table");com.sap.fioribi.components.overviewpage.ApplicationPageSectionView=function(){applicationInstance=this;com.sap.fioribi.modules.common.BILPView.apply(this,arguments);BILaunchpadApp.includeStyleSheet("com/sap/fioribi/css/SmartFilterBar.css");};com.sap.fioribi.components.overviewpage.ApplicationPageSectionView.prototype=jQuery.sap.newObject(com.sap.fioribi.modules.common.BILPView.prototype);com.sap.fioribi.components.overviewpage.ApplicationPageSectionView.prototype.getControllerName=function(){return"com.sap.fioribi.components.overviewpage.ApplicationPageSectionController";};com.sap.fioribi.components.overviewpage.ApplicationPageSectionView.prototype.createContent=function(oController){var $view=this;var uiElementMap=new Map();BILaunchpadApp.includeStyleSheet("com/sap/fioribi/css/Common.css");if(BILaunchpadApp.getRtlFlag()==false){BILaunchpadApp.includeStyleSheet("com/sap/fioribi/css/Homepage.css");}else{BILaunchpadApp.includeStyleSheet("com/sap/fioribi/css/Homepage_rtl.css");}var myHomePage=new sap.m.Page({showHeader:false});myHomePage.addStyleClass("BILP-pageHeight BILP-transparent BILP-homeTabWidth BILP-TileLayout ");var applicationJonData=sap.ui.getCore().getModel("applications");var titleKey=["SAP_Analytics_Cloud_Properties","Launch_WebIApplication","CrystalReport_Create","MDAnalysis_Create","AFDashboardPage_Create","MM_Explorer_Invoke","Launch_Lumira","Analytic_Create","BExWeb_Create"];var oTileContainer=new sap.m.ScrollContainer({}).addStyleClass("BILP-Height100Perc");var homePagePref=sap.ui.getCore().getModel("homePagePrefModel");var setPagePreference=function(jsonData){homePagePref=jsonData;sap.ui.getCore().setModel(homePagePref,"homePagePrefModel");};var errorPagePreference=function(xhr,ajaxOptions,thrownError){console.log("error");};var request={surl:BILaunchpadApp.getWebServiceBaseURL()+"/internal/v1/settings/userpreferences/homepagepreference",reqType:"GET",bAsync:false,successHandler:setPagePreference,errorHandler:errorPagePreference,headers:{Accept:"application/json","Content-Type":"application/json;odata=verbose","x-sap-logontoken":BILaunchpadApp.getlogonToken()}};jQuery.sap.require("com.sap.fioribi.utils.RequestDispatcher");var reqDispatcherPref=new RequestDispatcher();reqDispatcherPref.sendRequest(request);var tileMap={};for(var i=0;i<titleKey.length;i++){Object.keys(applicationJonData.APPLICATIONS).forEach(function(tab){var displayText=null;var actualText=tab;if(applicationJonData.APPLICATIONS[tab].TITLE==titleKey[i]){if(applicationJonData.APPLICATIONS[tab].SI_IS_VISIBLE=="true"&&applicationJonData.APPLICATIONS[tab].TITLE!="Analytic_Create"){var title="";var icon="";var id="";if(applicationJonData.APPLICATIONS[tab].TITLE=="BExWeb_Create"){title=BILaunchpadApp.localized("BEx");id="BEx";icon="com/sap/fioribi/images/applications/bex_icon.gif";}else{if(applicationJonData.APPLICATIONS[tab].TITLE=="Analytic_Create"){title=BILaunchpadApp.localized("Module");id="Module";icon="com/sap/fioribi/images/applications/analytic_48x48.gif";}else{if(applicationJonData.APPLICATIONS[tab].TITLE=="MDAnalysis_Create"){title=BILaunchpadApp.localized("Analysis_edition_for_OLAP");id="Analysis_edition_for_OLAP";icon="com/sap/fioribi/images/applications/pioneer_workspace_large.png";}else{if(applicationJonData.APPLICATIONS[tab].TITLE=="MM_Explorer_Invoke"){title=BILaunchpadApp.localized("Information_Steward");id="Information_Steward";icon="com/sap/fioribi/images/applications/Information_Steward_48x48.png";}else{if(applicationJonData.APPLICATIONS[tab].TITLE=="CrystalReport_Create"){title=BILaunchpadApp.localized("Crystal_Reports_for_Enterprise");id="Crystal_Reports_for_Enterprise";icon="com/sap/fioribi/images/applications/rpt_create_large.png";}else{if(applicationJonData.APPLICATIONS[tab].TITLE=="AFDashboardPage_Create"){title=BILaunchpadApp.localized("BI_Workspace");id="BI_Workspace";icon="com/sap/fioribi/images/applications/dashboard_48x48.gif";}else{if(applicationJonData.APPLICATIONS[tab].TITLE=="Launch_WebIApplication"){title=BILaunchpadApp.localized("Web_Intelligence");id="Web_Intelligence";icon="com/sap/fioribi/images/applications/WebI_48x48.png";}else{if(applicationJonData.APPLICATIONS[tab].TITLE=="Launch_Lumira"){title=BILaunchpadApp.localized("Lumira_Discovery");id="Lumira_Discovery";icon="com/sap/fioribi/images/applications/lumira_logo-big.png";}else{if(applicationJonData.APPLICATIONS[tab].TITLE=="SAP_Analytics_Cloud_Properties"){title=BILaunchpadApp.localized("SAP_Analytics_Cloud");id="SAP_Analytics_Cloud";icon="com/sap/fioribi/images/applications/sap_analytics_cloud.png";}}}}}}}}}var block=new sap.m.GenericTile({id:id,header:title,state:"Loaded",tooltip:com.sap.fioribi.app.BILaunchpadController.prototype.formatTooltipForAccessibility(title,20),tileContent:[new sap.m.TileContent({content:[new sap.m.Image({width:"48px",height:"48px",src:icon}).addStyleClass("applnTile")]})],press:function(event){var selectedTileText=event.getSource()._oTitle.oParent.sId;var title="";var id=selectedTileText;switch(selectedTileText){case"BEx":title="BEx Web Applications";break;case"Module":title="Module";break;case"Analysis_edition_for_OLAP":title="Analysis edition for OLAP";break;case"Information_Steward":title="Information Steward";break;case"Crystal_Reports_for_Enterprise":title="Crystal Reports for Enterprise";break;case"BI_Workspace":title="BI Workspace";break;case"Web_Intelligence":title="Web Intelligence";break;case"Lumira_Discovery":title="Lumira Discovery";break;case"SAP_Analytics_Cloud":title="SAP Analytics Cloud";break;}var $view=this;var customObjContext=applicationInstance.getContextObject(title);customObjContext.name=BILaunchpadApp.localized(id);if(title=="SAP Analytics Cloud"&&customObjContext.type=="SAPAnalyticsCloud"){var customObjContext_url=customObjContext.url;openInNewTab(customObjContext_url);function openInNewTab(url){var newTab=window.open();newTab.opener=null;newTab.location=url;}}else{var src=event.getSource();var objContext=this.data().context;if(!objContext){objContext={getProperty:function(obj){return customObjContext;},getPath:function(){return customObjContext;}};}sap.ui.core.BusyIndicator.show(0);setTimeout(function(){oController.fnViewDocument(objContext);sap.ui.core.BusyIndicator.hide();},10);}}}).addStyleClass("sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout");tileMap[id]=block;if(homePagePref.applicationTileOrder==undefined||homePagePref.applicationTileOrder==null||homePagePref.applicationTileOrder==""){oTileContainer.addContent(block);}}}});}if(homePagePref.applicationTileOrder!=undefined){var applicationTileOrderArr=homePagePref.applicationTileOrder.split(",");for(var i=0;i<applicationTileOrderArr.length;i++){if(tileMap[applicationTileOrderArr[i]]!=undefined){oTileContainer.addContent(tileMap[applicationTileOrderArr[i]]);}}}return oTileContainer;};com.sap.fioribi.components.overviewpage.ApplicationPageSectionView.prototype.getContextObject=function(headerTitle){var applicationJonData=sap.ui.getCore().getModel("applications");var title="";var url="";var contextPath="";var si_id="";var type="AFDashboardPage";Object.keys(applicationJonData.APPLICATIONS).forEach(function(tab){var displayText=null;var actualText=tab;if(applicationJonData.APPLICATIONS[tab].SI_IS_VISIBLE=="true"){if(applicationJonData.APPLICATIONS[tab].TITLE=="BExWeb_Create"){title="BEx Web Applications";if(title==headerTitle){url=applicationJonData.APPLICATIONS[tab].SI_URL;contextPath=applicationJonData.APPLICATIONS[tab].SI_CONTEXT_PATH;si_id=applicationJonData.APPLICATIONS[tab].SI_ID;type="BEx";}}else{if(applicationJonData.APPLICATIONS[tab].TITLE=="Analytic_Create"){title="Module";if(title==headerTitle){url=applicationJonData.APPLICATIONS[tab].SI_URL;contextPath=applicationJonData.APPLICATIONS[tab].SI_CONTEXT_PATH;si_id=applicationJonData.APPLICATIONS[tab].SI_ID;type="AFDashboardPage";}}else{if(applicationJonData.APPLICATIONS[tab].TITLE=="MDAnalysis_Create"){title="Analysis edition for OLAP";if(title==headerTitle){url=applicationJonData.APPLICATIONS[tab].SI_URL;contextPath=applicationJonData.APPLICATIONS[tab].SI_CONTEXT_PATH;si_id=applicationJonData.APPLICATIONS[tab].SI_ID;type="AFDashboardPage";}}else{if(applicationJonData.APPLICATIONS[tab].TITLE=="MM_Explorer_Invoke"){title="Information Steward";if(title==headerTitle){url=applicationJonData.APPLICATIONS[tab].SI_URL;contextPath=applicationJonData.APPLICATIONS[tab].SI_CONTEXT_PATH;si_id=applicationJonData.APPLICATIONS[tab].SI_ID;type="AFDashboardPage";}}else{if(applicationJonData.APPLICATIONS[tab].TITLE=="CrystalReport_Create"){title="Crystal Reports for Enterprise";if(title==headerTitle){url=applicationJonData.APPLICATIONS[tab].SI_URL;contextPath=applicationJonData.APPLICATIONS[tab].SI_CONTEXT_PATH;si_id=applicationJonData.APPLICATIONS[tab].SI_ID;type="AFDashboardPage";}}else{if(applicationJonData.APPLICATIONS[tab].TITLE=="AFDashboardPage_Create"){title="BI Workspace";if(title==headerTitle){url=applicationJonData.APPLICATIONS[tab].SI_URL;contextPath=applicationJonData.APPLICATIONS[tab].SI_CONTEXT_PATH;si_id=applicationJonData.APPLICATIONS[tab].SI_ID;type="AFDashboardPage";}}else{if(applicationJonData.APPLICATIONS[tab].TITLE=="Launch_WebIApplication"){title="Web Intelligence";if(title==headerTitle){url=applicationJonData.APPLICATIONS[tab].SI_URL;contextPath=applicationJonData.APPLICATIONS[tab].SI_CONTEXT_PATH;si_id=applicationJonData.APPLICATIONS[tab].SI_ID;type="Webi";}}else{if(applicationJonData.APPLICATIONS[tab].TITLE=="Launch_Lumira"){title="Lumira Discovery";if(title==headerTitle){url=applicationJonData.APPLICATIONS[tab].SI_URL;contextPath=applicationJonData.APPLICATIONS[tab].SI_CONTEXT_PATH;si_id=applicationJonData.APPLICATIONS[tab].SI_ID;type="AFDashboardPage";}}else{if(applicationJonData.APPLICATIONS[tab].TITLE=="SAP_Analytics_Cloud_Properties"){title="SAP Analytics Cloud";if(title==headerTitle){url=applicationJonData.APPLICATIONS[tab].SI_SAC_TENANT_URL;contextPath=applicationJonData.APPLICATIONS[tab].SI_CONTEXT_PATH;si_id=applicationJonData.APPLICATIONS[tab].SI_ID;type="SAPAnalyticsCloud";}}}}}}}}}}}});var customObjContext={children:"0",contentImageSrc:"",count:"",created:"",cuid:"",description:"",displaytype:"BI Workspace",fav:true,filter:"home_myfavorites",headerIconClass:"BILP-size32px BILP-Webi",icon:"",id:headerTitle,imagepath:"",instances:"0",keywords:"",lastRef:"",lastRun:"",name:headerTitle,opendocurl:"",owner:"Administrator",parentcuid:"",parentid:"",tileType:"doc",type:type,updated:"",dcoViewId:"",url:url,contextPath:contextPath,si_id:si_id};return customObjContext;};