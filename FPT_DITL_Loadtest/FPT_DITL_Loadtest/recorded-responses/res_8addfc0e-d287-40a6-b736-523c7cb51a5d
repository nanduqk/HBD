define("zen.rt.uiframework/legacyfeeding/zen.rt.components.sdkhtml5chart/charts/SDKBaseChart",["zen.rt.uiframework/legacyfeeding/zen.rt.components.sdkhtml5chart/dataMappers/SDKGenericDataMapper","zen.rt.uiframework/legacyfeeding/zen.rt.components.sdkhtml5chart/utilities/SDKUtilsHelper","zen.rt.uiframework/legacyfeeding/zen.rt.components.sdkhtml5chart/charts/helpers/SDKChartDataFeedingHelper","zen.rt.uiframework/legacyfeeding/zen.rt.components.sdkhtml5chart/charts/ChartException"],function(b,a,d,c){sap.ui.core.Control.extend("sap.zen.SDKBaseChart",{metadata:{properties:{imageVisibility:{type:"boolean",defaultValue:false},cvomError:{type:"string",defaultValue:null},width:{type:"sap.ui.core.CSSSize"},height:{type:"sap.ui.core.CSSSize"},onSelect:{type:"string"},dataLabel:{type:"boolean",defaultValue:false},animation:{type:"boolean",defaultValue:true},chartValuesFull:{type:"object",defaultValue:{visible:false,position:"inside"}},background:{type:"object",defaultValue:{selectedValidValues:["Solid Fill","No Fill"],selectedValue:"Solid Fill",colorValidValues:[null,"transparent"],colorValue:null}},presentation:{type:"object",defaultValue:{label:"When displaying dimension values use:",selectedValidValues:["defaults","text","key"],selectedValidValuesText:["Initial View Definitions","Text","Key"],selectedValue:"defaults"}},axisScaling:{type:"object",defaultValue:{axisSingle:{fixedRange:false,minValue:"",maxValue:""},axisDual:{fixedRange:false,minValue:"",maxValue:""}}}},aggregations:{errorLayoutControl:{type:"sap.zen.commons.layout.AbsoluteLayout",multiple:false},imageControl:{type:"sap.ui.core.Control",multiple:false}}},_onInitilized:null,_measureFormat:null,_tooltipFormat:null,_alreadySwapped:false,_utilsHelper:null,_formattingHelper:null,_colourHelper:null,_chartDataFeedingHelper:null,_chartAdditionalPropertiesHelper:null,_lastError:null,ADDITIONAL_PROPERTIES_SEPARATOR:".",INTERNAL_ERROR:"Internal error",getChartDataFeedingHelper:function(){if(this._chartDataFeedingHelper==null){this._chartDataFeedingHelper=new d();}return this._chartDataFeedingHelper;},setData:function(e){this.data=e;},getAxesSwapped:function(){return this.axesSwapped;},getData:function(){return this.data;},getMessages:function(){return this.messages;},getDataMapper:function(){return new b();},registerHelper:function(e){if(!this.helpers){this.helpers={};}if(!this.helpers[e]){this.helpers[e]=e;}},init:function(){this.data=null;this.locale=null;this.axisFormat=null;this.chartFormatType=null;this.chartThemes=null;this.createImage(this.getId());this.createErrorLayout(this.getId());this.initCvomChartType();this.bOnAfterRendering=true;this._updateCvomDataNeeded=false;this._oldProps={};},initCvomChartType:function(){},createImage:function(){},createErrorLayout:function(h){var f=new sap.zen.commons.layout.AbsoluteLayout(this.getId()+"_error");var g=sap.zen.Dispatcher.instance.isMainMode();var e=(g)?new sap.m.TextArea(this.getId()+"_errormessage"):new sap.ui.commons.TextView(this.getId()+"_errormessage");e.setTextAlign("Center");if(g){e.setValueState(sap.ui.core.ValueState.Error);}else{e.setDesign("Bold");e.setSemanticColor("Critical");}f.addContent(e,{left:"5px",top:"5px",right:"5px"});if(jQuery.support.opacity){f.addStyleClass("zenMessageWithOpacity");}else{f.addStyleClass("zenMessageWithFilter");}this.setErrorLayoutControl(f);},createDataMapper:function(){var e=this.getDataMapper();e.setMessages(this.getMessages());return e;},getDataDualFeeding:function(l,h,k,g){var j=this.getChartDataFeedingHelper();var i=j.getDataDualFeedingColor(h,k,g);var f=[];f.push(j.getAnalysisAxisIndex1());var e=[{feedId:"primaryValues",binding:[{type:"measureValuesGroup",index:1}]},{feedId:"secondaryValues",binding:[{type:"measureValuesGroup",index:2}]},{feedId:"regionColor",binding:i},{feedId:"axisLabels",binding:f}];return e;},getDataFeeding:function(n,m,j,l){var e=this.getChartDataFeedingHelper();var g=e.getDataFeedingAxis(n,m,l,j);var k=function(p){var o=_.chain(p&&p.dimensions).findWhere({containsMeasures:true}).value();return o&&o.axis_index;};var h=k(this.data);if(h===undefined){h=m;}var f=e.getDataFeedingColor(n,h,l,j);var i=[{feedId:"axisLabels",binding:g},{feedId:"regionColor",binding:f},{feedId:"primaryValues",binding:[{type:"measureValuesGroup",index:1}]}];return i;}});return sap.zen.SDKBaseChart;});